<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Raport dzienny</title>

<style>
body{
  margin:0;
  padding:16px;
  background:#0f1724;
  color:#e6eef8;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
}
.container{max-width:800px;margin:auto}
.card{background:rgba(255,255,255,.05);padding:16px;border-radius:14px}
label{display:block;margin-top:14px;margin-bottom:6px}
input,select,textarea{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.15);
  background:#0b1220;
  color:#e6eef8;
}
button{
  margin-top:20px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:12px;
  background:#06b6d4;
  font-weight:700;
}
.resultBox{
  margin-top:10px;
  padding:12px;
  background:#08101c;
  border-radius:10px;
  text-align:center;
  font-weight:bold;
}
</style>
</head>

<body>
<div class="container">
<div class="card">

<form id="dailyForm">

<label>Imię</label>
<select id="name">
  <option>Olga</option>
  <option>Estera</option>
  <option>Weronika</option>
  <option>Renata</option>
  <option>Małgorzata</option>
  <option>Damaris</option>
  <option>Anna</option>
</select>

<label>Sklep</label>
<select id="shop">
  <option>Karmelicka</option>
  <option>Plac</option>
  <option>Starowiślna</option>
</select>

<label>Utarg gotówka</label>
<input id="cash" type="number">

<label>Utarg karta</label>
<input id="card" type="number">

<label>Raport kasowy</label>
<input id="raportKasowy" type="number">

<label>Zakupy i wpłaty</label>
<select id="zakupyTyp">
  <option>Pracownicze</option>
  <option>Szef</option>
</select>
<input id="zakupyKwota" type="number">

<label>Rozchody i wydatki</label>
<select id="wydatkiTyp">
  <option>Marcin</option>
  <option>Czynsz</option>
  <option>Inne</option>
</select>
<input id="wydatkiKwota" type="number">

<label>Gotówka w kasetce</label>
<input id="kasetka" type="number">

<div class="resultBox">
Saldo końcowe: <span id="saldo">0.00</span>
</div>

<label>Uwagi</label>
<textarea id="notes"></textarea>

<button type="submit">Zapisz raport</button>

</form>

</div>
</div>

<script>
const FORM_ENDPOINT = "https://script.google.com/macros/s/AKfycbw8j0i02eAOnW17cMhHXduPCUS_bI8rBjR9rr3wEoaftwCyBqoU5nsxhch7r3EOwtAiWQ/exec";

const cash = document.getElementById("cash");
const wyd = document.getElementById("wydatkiKwota");
const saldo = document.getElementById("saldo");

function liczSaldo(){
  saldo.textContent = ((parseFloat(cash.value)||0) - (parseFloat(wyd.value)||0)).toFixed(2);
}
cash.oninput = liczSaldo;
wyd.oninput = liczSaldo;

document.getElementById("dailyForm").addEventListener("submit", async e=>{
  e.preventDefault();

  const data = {
    date: new Date().toLocaleDateString("pl-PL"),
    name: name.value,
    shop: shop.value,
    cash: cash.value,
    card: card.value,
    raportKasowy: raportKasowy.value,
    zakupyTyp: zakupyTyp.value,
    zakupyKwota: zakupyKwota.value,
    wydatkiTyp: wydatkiTyp.value,
    wydatkiKwota: wydatkiKwota.value,
    kasetka: kasetka.value,
    saldoKoncowe: saldo.textContent,
    notes: notes.value
  };

  await fetch(FORM_ENDPOINT,{
    method:"POST",
    mode:"no-cors",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify(data)
  });

  alert("Zapisano");
  e.target.reset();
  saldo.textContent="0.00";
});
</script>

</body>
</html>
